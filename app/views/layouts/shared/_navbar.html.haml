%nav.navbar.is-transparent{ role: 'navigation', aria: { label: 'main navigation'}, data: { controller: 'navbar' } }
  .container
    .navbar-brand
      = link_to  root_url, class: 'navbar-item' do
        = image_tag 'queue.jpg'

      %button.button.navbar-burger{ data: {action: 'navbar#toggle', target: 'navbar.toggable'}}
        %span
        %span
        %span

    .navbar-menu.is-hidden-touch
      .navbar-end
        = link_to 'Quran', quran_root_path, class: 'navbar-item'
        = link_to 'Blog', content_articles_path, class: 'navbar-item'
        
        
        - if account_signed_in?
          = link_to 'Bookmarks', '#', class: 'navbar-item', id: 'bookmarks-modal-opener', data: { action: 'navbar#openBookmarksModal' }
          = link_to 'Account', accounts_profile_path, class: 'navbar-item'
          = link_to "Logout", destroy_account_session_path, method: :delete, class: 'navbar-item'
          = link_to 'Admin', admin_root_path, class: 'navbar-item' if current_account.role?(:admin)          
        - else
          = link_to 'Login', new_account_session_path, class: 'navbar-item'
          = link_to 'Register', new_account_registration_path, class: 'navbar-item'

    .navbar-menu.is-hidden-desktop{data: {target: 'navbar.toggable' } }
      - if account_signed_in?
        = link_to 'Profile', accounts_profile_path, class: params[:controller].starts_with?('accounts/profiles') ? 'navbar-item is-active' : 'navbar-item'
        = link_to 'Connections', accounts_connections_path, class: params[:controller].starts_with?('accounts/connections') ? 'navbar-item is-active' : 'navbar-item'
        = link_to 'Subscription', accounts_subscription_path, class: params[:controller].starts_with?('accounts/subscription') ? 'navbar-item is-active' : 'navbar-item'
        = link_to 'Bookmarks', '#', class: 'navbar-item', id: 'bookmarks-modal-opener', data: { action: 'navbar#openBookmarksModal' }

        .is-divider-h

      = link_to 'Quran', quran_root_path, class: 'navbar-item'
      = link_to 'Blog', content_articles_path, class: 'navbar-item'
      
      - if account_signed_in?
        
        .is-divider-h
        = link_to 'Admin', admin_root_path, class: 'navbar-item' if current_account.role?(:admin)
        = link_to 'Settings', edit_accounts_profile_path, class: 'navbar-item'
        = link_to "Logout", destroy_account_session_path, method: :delete, class: 'navbar-item'
      - else
        = link_to 'Login', new_account_session_path, class: 'navbar-item'
        = link_to 'Register', new_account_registration_path, class: 'navbar-item'

  = render 'shared/bookmarks_modal'
