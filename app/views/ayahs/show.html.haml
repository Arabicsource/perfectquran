%ol.breadcrumb
  %li.breadcrumb-item= link_to 'Home', root_path
  %li.breadcrumb-item= link_to @ayah.surah_name, surah_path(@ayah.surah_permalink)
  %li.breadcrumb-item= @ayah.number

.ayah
  - if @ayah.previous?
    .previous-ayah
      = @ayah.previous.texts.last.content.html_safe
      = link_to ayah_by_number_path(@ayah.previous.surah.id, @ayah.previous.number) do
        = "(#{@ayah.previous.surah.id}:#{@ayah.previous.number})"

  %article.current-ayah
    %h1= "#{@ayah.surah_name} #{@ayah.number}"

    - @ayah.texts.each do |text|
      .ayah-text
        %h2{class: ('d-none' if text.uthmani?)}= text.quran.name
        %p{class: ('arabic' if text.uthmani?)}= text.content.html_safe
    
    - if user_signed_in?
      %section.d-lg-none
        = render 'shared/ayah_actions', ayah: @ayah

  - if @ayah.next?
    .next-ayah
      = @ayah.next.texts.last.content.html_safe
      = link_to ayah_by_number_path(@ayah.next.surah.id, @ayah.next.number) do
        = "(#{@ayah.next.surah.id}:#{@ayah.next.number})"

- provide :title, "#{@ayah.surah_name}:#{@ayah.number}"

- content_for :aside do
  - if user_signed_in?
    %section#ayah-actions
      = render 'shared/ayah_actions', ayah: @ayah

= javascript_pack_tag 'ayah_actions'